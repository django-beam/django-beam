{% load i18n %}
{% load beam_tags %}


{% if filterset %}
    <div class="beam-filterset mb-4">
        <div class="collapse collapse-arrow bg-base-200 {% if filterset.form.has_changed %}collapse-open{% endif %}">
            <input type="checkbox" {% if filterset.form.has_changed %}checked{% endif %} />
            <div class="collapse-title text-xl font-medium">
                {% trans "Filters" %}
            </div>
            <div class="collapse-content">

                <form method="get" id="{{ filterset.form.prefix }}-form" class="beam-filterset__form">

                    {% include "beam/partials/form_layout.html" with form=filterset.form %}

                    {% build_ignore_params filterset.form page_param as ignore_params %}

                    {% preserve_get_params_as_hidden_inputs ignore_params=ignore_params _has_beam_filter="1" %}

                    <div class="flex gap-2 mt-4">
                        <a href="{{ request.path }}{% preserve_query_string ignore_params=ignore_params _has_beam_filter="0" %}"
                           class="btn btn-outline">{% trans "Clear filters" %}</a>
                        <input type="submit" class="btn btn-primary"
                               value="{% trans 'Filter' %}"/>
                    </div>

                </form>

            </div>
        </div>
    </div>
{% endif %}
